import{D as f,G as Ze,ka as Ke}from"./chunk-Z5PNMCM7.mjs";var se,S,P,xt=Object.create,ct=Object.defineProperty,Ct=Object.getOwnPropertyDescriptor,ft=Object.getOwnPropertyNames,Mt=Object.getPrototypeOf,_t=Object.prototype.hasOwnProperty,he=(e,t)=>function(){return t||(0,e[ft(e)[0]])((t={exports:{}}).exports,t),t.exports},Bt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of ft(t))_t.call(e,a)||a===r||ct(e,a,{get:()=>t[a],enumerable:!(n=Ct(t,a))||n.enumerable});return e},ht=(e,t,r)=>(r=e!=null?xt(Mt(e)):{},Bt(!t&&e&&e.__esModule?r:ct(r,"default",{value:e,enumerable:!0}),e)),Dt=he({"../../../node_modules/dataloader/index.js"(e,t){var r,n=function(){function l(s,c){if(typeof s!="function")throw TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: "+s+".");this._batchLoadFn=s,this._maxBatchSize=function(m){if(!(!m||m.batch!==!1))return 1;var d=m&&m.maxBatchSize;if(d===void 0)return 1/0;if(typeof d!="number"||d<1)throw TypeError("maxBatchSize must be a positive number: "+d);return d}(c),this._batchScheduleFn=function(m){var d=m&&m.batchScheduleFn;if(d===void 0)return a;if(typeof d!="function")throw TypeError("batchScheduleFn must be a function: "+d);return d}(c),this._cacheKeyFn=function(m){var d=m&&m.cacheKeyFn;if(d===void 0)return function(p){return p};if(typeof d!="function")throw TypeError("cacheKeyFn must be a function: "+d);return d}(c),this._cacheMap=function(m){if(!(!m||m.cache!==!1))return null;var d=m&&m.cacheMap;if(d===void 0)return new Map;if(d!==null){var p=["get","set","delete","clear"].filter(function(y){return d&&typeof d[y]!="function"});if(p.length!==0)throw TypeError("Custom cacheMap missing methods: "+p.join(", "))}return d}(c),this._batch=null,this.name=c&&c.name?c.name:null}var h=l.prototype;return h.load=function(s){if(s==null)throw TypeError("The loader.load() function must be called with a value, but got: "+String(s)+".");var c=function(L){var x=L._batch;if(x!==null&&!x.hasDispatched&&x.keys.length<L._maxBatchSize)return x;var C={hasDispatched:!1,keys:[],callbacks:[]};return L._batch=C,L._batchScheduleFn(function(){(function(M,w){var k;if(w.hasDispatched=!0,w.keys.length===0){o(w);return}try{k=M._batchLoadFn(w.keys)}catch(N){return i(M,w,TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function errored synchronously: "+String(N)+"."))}if(!k||typeof k.then!="function")return i(M,w,TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: "+String(k)+"."));k.then(function(N){if(!u(N))throw TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: "+String(N)+".");if(N.length!==w.keys.length)throw TypeError(`DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.

Keys:
`+String(w.keys)+`

Values:
`+String(N));o(w);for(var I=0;I<w.callbacks.length;I++){var g=N[I];g instanceof Error?w.callbacks[I].reject(g):w.callbacks[I].resolve(g)}}).catch(function(N){i(M,w,N)})})(L,C)}),C}(this),m=this._cacheMap,d=this._cacheKeyFn(s);if(m){var p=m.get(d);if(p){var y=c.cacheHits||(c.cacheHits=[]);return new Promise(function(L){y.push(function(){L(p)})})}}c.keys.push(s);var U=new Promise(function(L,x){c.callbacks.push({resolve:L,reject:x})});return m&&m.set(d,U),U},h.loadMany=function(s){if(!u(s))throw TypeError("The loader.loadMany() function must be called with Array<key> but got: "+s+".");for(var c=[],m=0;m<s.length;m++)c.push(this.load(s[m]).catch(function(d){return d}));return Promise.all(c)},h.clear=function(s){var c=this._cacheMap;if(c){var m=this._cacheKeyFn(s);c.delete(m)}return this},h.clearAll=function(){var s=this._cacheMap;return s&&s.clear(),this},h.prime=function(s,c){var m=this._cacheMap;if(m){var d,p=this._cacheKeyFn(s);m.get(p)===void 0&&(c instanceof Error?(d=Promise.reject(c)).catch(function(){}):d=Promise.resolve(c),m.set(p,d))}return this},l}(),a=typeof process=="object"&&typeof process.nextTick=="function"?function(l){r||(r=Promise.resolve()),r.then(function(){process.nextTick(l)})}:typeof setImmediate=="function"?function(l){setImmediate(l)}:function(l){setTimeout(l)};function i(l,h,s){o(h);for(var c=0;c<h.keys.length;c++)l.clear(h.keys[c]),h.callbacks[c].reject(s)}function o(l){if(l.cacheHits)for(var h=0;h<l.cacheHits.length;h++)l.cacheHits[h]()}function u(l){return typeof l=="object"&&l!==null&&typeof l.length=="number"&&(l.length===0||l.length>0&&Object.prototype.hasOwnProperty.call(l,l.length-1))}t.exports=n}}),Ee=he({"../../../node_modules/whatwg-mimetype/lib/utils.js"(e){e.removeLeadingAndTrailingHTTPWhitespace=t=>t.replace(/^[ \t\n\r]+/u,"").replace(/[ \t\n\r]+$/u,""),e.removeTrailingHTTPWhitespace=t=>t.replace(/[ \t\n\r]+$/u,""),e.isHTTPWhitespaceChar=t=>t===" "||t==="	"||t===`
`||t==="\r",e.solelyContainsHTTPTokenCodePoints=t=>/^[-!#$%&'*+.^_`|~A-Za-z0-9]*$/u.test(t),e.soleyContainsHTTPQuotedStringTokenCodePoints=t=>/^[\t\u0020-\u007E\u0080-\u00FF]*$/u.test(t),e.asciiLowercase=t=>t.replace(/[A-Z]/ug,r=>r.toLowerCase()),e.collectAnHTTPQuotedString=(t,r)=>{let n="";for(r++;;){for(;r<t.length&&t[r]!=='"'&&t[r]!=="\\";)n+=t[r],++r;if(r>=t.length)break;let a=t[r];if(++r,a==="\\"){if(r>=t.length){n+="\\";break}n+=t[r],++r}else break}return[n,r]}}}),Rt=he({"../../../node_modules/whatwg-mimetype/lib/mime-type-parameters.js"(e,t){var{asciiLowercase:r,solelyContainsHTTPTokenCodePoints:n,soleyContainsHTTPQuotedStringTokenCodePoints:a}=Ee();t.exports=class{get size(){return this._map.size}get(i){return i=r(String(i)),this._map.get(i)}has(i){return i=r(String(i)),this._map.has(i)}set(i,o){if(i=r(String(i)),o=String(o),!n(i))throw Error(`Invalid MIME type parameter name "${i}": only HTTP token code points are valid.`);if(!a(o))throw Error(`Invalid MIME type parameter value "${o}": only HTTP quoted-string token code points are valid.`);return this._map.set(i,o)}clear(){this._map.clear()}delete(i){return i=r(String(i)),this._map.delete(i)}forEach(i,o){this._map.forEach(i,o)}keys(){return this._map.keys()}values(){return this._map.values()}entries(){return this._map.entries()}[Symbol.iterator](){return this._map[Symbol.iterator]()}constructor(i){this._map=i}}}}),Ft=he({"../../../node_modules/whatwg-mimetype/lib/parser.js"(e,t){var{removeLeadingAndTrailingHTTPWhitespace:r,removeTrailingHTTPWhitespace:n,isHTTPWhitespaceChar:a,solelyContainsHTTPTokenCodePoints:i,soleyContainsHTTPQuotedStringTokenCodePoints:o,asciiLowercase:u,collectAnHTTPQuotedString:l}=Ee();t.exports=h=>{h=r(h);let s=0,c="";for(;s<h.length&&h[s]!=="/";)c+=h[s],++s;if(c.length===0||!i(c)||s>=h.length)return null;++s;let m="";for(;s<h.length&&h[s]!==";";)m+=h[s],++s;if((m=n(m)).length===0||!i(m))return null;let d={type:u(c),subtype:u(m),parameters:new Map};for(;s<h.length;){for(++s;a(h[s]);)++s;let p="";for(;s<h.length&&h[s]!==";"&&h[s]!=="=";)p+=h[s],++s;if(p=u(p),s<h.length){if(h[s]===";")continue;++s}let y=null;if(h[s]==='"')for([y,s]=l(h,s);s<h.length&&h[s]!==";";)++s;else{for(y="";s<h.length&&h[s]!==";";)y+=h[s],++s;if((y=n(y))==="")continue}p.length>0&&i(p)&&o(y)&&!d.parameters.has(p)&&d.parameters.set(p,y)}return d}}}),jt=he({"../../../node_modules/whatwg-mimetype/lib/serializer.js"(e,t){var{solelyContainsHTTPTokenCodePoints:r}=Ee();t.exports=n=>{let a=`${n.type}/${n.subtype}`;if(n.parameters.size===0)return a;for(let[i,o]of n.parameters)a+=";"+i+"=",r(o)&&o.length!==0||(o=o.replace(/(["\\])/ug,"\\$1"),o=`"${o}"`),a+=o;return a}}}),Pt=he({"../../../node_modules/whatwg-mimetype/lib/mime-type.js"(e,t){var r=Rt(),n=Ft(),a=jt(),{asciiLowercase:i,solelyContainsHTTPTokenCodePoints:o}=Ee();t.exports=class{static parse(u){try{return new this(u)}catch{return null}}get essence(){return`${this.type}/${this.subtype}`}get type(){return this._type}set type(u){if((u=i(String(u))).length===0)throw Error("Invalid type: must be a non-empty string");if(!o(u))throw Error(`Invalid type ${u}: must contain only HTTP token code points`);this._type=u}get subtype(){return this._subtype}set subtype(u){if((u=i(String(u))).length===0)throw Error("Invalid subtype: must be a non-empty string");if(!o(u))throw Error(`Invalid subtype ${u}: must contain only HTTP token code points`);this._subtype=u}get parameters(){return this._parameters}toString(){return a(this)}isJavaScript({prohibitParameters:u=!1}={}){switch(this._type){case"text":switch(this._subtype){case"ecmascript":case"javascript":case"javascript1.0":case"javascript1.1":case"javascript1.2":case"javascript1.3":case"javascript1.4":case"javascript1.5":case"jscript":case"livescript":case"x-ecmascript":case"x-javascript":return!u||this._parameters.size===0;default:return!1}case"application":switch(this._subtype){case"ecmascript":case"javascript":case"x-ecmascript":case"x-javascript":return!u||this._parameters.size===0;default:return!1}default:return!1}}isXML(){return this._subtype==="xml"&&(this._type==="text"||this._type==="application")||this._subtype.endsWith("+xml")}isHTML(){return this._subtype==="html"&&this._type==="text"}constructor(u){u=String(u);let l=n(u);if(l===null)throw Error(`Could not parse MIME type string "${u}"`);this._type=l.type,this._subtype=l.subtype,this._parameters=new r(l.parameters)}}}}),Ot=ht(Dt()),_={Uint8:1,Uint16:2,Uint32:4,BigUint64:8,Int8:1,Int16:2,Int32:4,BigInt64:8,Float32:4,Float64:8},Le=class{getOffset(){return this.offset}ensureLength(e){let t=this.bytes.length;if(!(this.offset+e<=t))throw Error("Reading out of bounds")}readUint8(){let e=_.Uint8;this.ensureLength(e);let t=this.view.getUint8(this.offset);return this.offset+=e,t}readUint16(){let e=_.Uint16;this.ensureLength(e);let t=this.view.getUint16(this.offset);return this.offset+=e,t}readUint32(){let e=_.Uint32;this.ensureLength(e);let t=this.view.getUint32(this.offset);return this.offset+=e,t}readUint64(){let e=this.readBigUint64();return Number(e)}readBigUint64(){let e=_.BigUint64;this.ensureLength(e);let t=this.view.getBigUint64(this.offset);return this.offset+=e,t}readInt8(){let e=_.Int8;this.ensureLength(e);let t=this.view.getInt8(this.offset);return this.offset+=e,t}readInt16(){let e=_.Int16;this.ensureLength(e);let t=this.view.getInt16(this.offset);return this.offset+=e,t}readInt32(){let e=_.Int32;this.ensureLength(e);let t=this.view.getInt32(this.offset);return this.offset+=e,t}readInt64(){let e=this.readBigInt64();return Number(e)}readBigInt64(){let e=_.BigInt64;this.ensureLength(e);let t=this.view.getBigInt64(this.offset);return this.offset+=e,t}readFloat32(){let e=_.Float32;this.ensureLength(e);let t=this.view.getFloat32(this.offset);return this.offset+=e,t}readFloat64(){let e=_.Float64;this.ensureLength(e);let t=this.view.getFloat64(this.offset);return this.offset+=e,t}readBytes(e){let t=this.offset,r=t+e,n=this.bytes.subarray(t,r);return this.offset=r,n}readString(){let e=this.readUint32(),t=this.readBytes(e);return this.decoder.decode(t)}readJson(){let e=this.readString();return JSON.parse(e)}constructor(e){this.bytes=e,this.offset=0,this.view=He(this.bytes),this.decoder=new TextDecoder}};function He(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function b(e,...t){if(!e)throw Error("Assertion Error"+(t.length>0?": "+t.join(" "):""))}function be(e){throw Error(`Unexpected value: ${e}`)}var j=Uint8Array,z=Uint16Array,Ve=Int32Array,xe=new j([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ce=new j([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ye=new j([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),mt=function(e,t){for(var r=new z(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new Ve(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},dt=mt(xe,2),pt=dt.b,Je=dt.r;pt[28]=258,Je[258]=28;var gt=mt(Ce,0),Wt=gt.b,Xe=gt.r,ze=new z(32768);for(S=0;S<32768;++S)se=(61680&(se=(52428&(se=(43690&S)>>1|(21845&S)<<1))>>2|(13107&se)<<2))>>4|(3855&se)<<4,ze[S]=((65280&se)>>8|(255&se)<<8)>>1;var ee=function(e,t,r){for(var n,a=e.length,i=0,o=new z(t);i<a;++i)e[i]&&++o[e[i]-1];var u=new z(t);for(i=1;i<t;++i)u[i]=u[i-1]+o[i-1]<<1;if(r){n=new z(1<<t);var l=15-t;for(i=0;i<a;++i)if(e[i])for(var h=i<<4|e[i],s=t-e[i],c=u[e[i]-1]++<<s,m=c|(1<<s)-1;c<=m;++c)n[ze[c]>>l]=h}else for(i=0,n=new z(a);i<a;++i)e[i]&&(n[i]=ze[u[e[i]-1]++]>>15-e[i]);return n},ae=new j(288);for(S=0;S<144;++S)ae[S]=8;for(S=144;S<256;++S)ae[S]=9;for(S=256;S<280;++S)ae[S]=7;for(S=280;S<288;++S)ae[S]=8;var ke=new j(32);for(S=0;S<32;++S)ke[S]=5;var At=ee(ae,9,0),Ht=ee(ae,9,1),Yt=ee(ke,5,0),Jt=ee(ke,5,1),Be=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},V=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(7&t)&r},De=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(7&t)},qe=function(e){return(e+7)/8|0},yt=function(e,t,r){return(t==null||t<0)&&(t=0),(r==null||r>e.length)&&(r=e.length),new j(e.subarray(t,r))},zt=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ne=function(e,t,r){var n=Error(t||zt[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,ne),!r)throw n;return n},Gt=function(e,t,r,n){var a=e.length,i=n?n.length:0;if(!a||t.f&&!t.l)return r||new j(0);var o=!r,u=o||t.i!=2,l=t.i;o&&(r=new j(3*a));var h=function(de){var pe=r.length;if(de>pe){var fe=new j(Math.max(2*pe,de));fe.set(r),r=fe}},s=t.f||0,c=t.p||0,m=t.b||0,d=t.l,p=t.d,y=t.m,U=t.n,L=8*a;do{if(!d){s=V(e,c,1);var x=V(e,c+1,3);if(c+=3,x)if(x==1)d=Ht,p=Jt,y=9,U=5;else if(x==2){var C=V(e,c,31)+257,M=V(e,c+10,15)+4,w=C+V(e,c+5,31)+1;c+=14;for(var k=new j(w),N=new j(19),I=0;I<M;++I)N[Ye[I]]=V(e,c+3*I,7);c+=3*M;for(var g=Be(N),$=(1<<g)-1,A=ee(N,g,1),I=0;I<w;){var v=A[V(e,c,$)];c+=15&v;var F=v>>4;if(F<16)k[I++]=F;else{var B=0,H=0;for(F==16?(H=3+V(e,c,3),c+=2,B=k[I-1]):F==17?(H=3+V(e,c,7),c+=3):F==18&&(H=11+V(e,c,127),c+=7);H--;)k[I++]=B}}var O=k.subarray(0,C),T=k.subarray(C);y=Be(O),U=Be(T),d=ee(O,y,1),p=ee(T,U,1)}else ne(1);else{var F=qe(c)+4,W=e[F-4]|e[F-3]<<8,G=F+W;if(G>a){l&&ne(0);break}u&&h(m+W),r.set(e.subarray(F,G),m),t.b=m+=W,t.p=c=8*G,t.f=s;continue}if(c>L){l&&ne(0);break}}u&&h(m+131072);for(var me=(1<<y)-1,Q=(1<<U)-1,te=c;;te=c){var B=d[De(e,c)&me],Y=B>>4;if((c+=15&B)>L){l&&ne(0);break}if(B||ne(2),Y<256)r[m++]=Y;else if(Y==256){te=c,d=null;break}else{var J=Y-254;if(Y>264){var I=Y-257,E=xe[I];J=V(e,c,(1<<E)-1)+pt[I],c+=E}var q=p[De(e,c)&Q],ue=q>>4;q||ne(3),c+=15&q;var T=Wt[ue];if(ue>3){var E=Ce[ue];T+=De(e,c)&(1<<E)-1,c+=E}if(c>L){l&&ne(0);break}u&&h(m+131072);var ce=m+J;if(m<T){var Ie=i-T,Se=Math.min(T,ce);for(Ie+m<0&&ne(3);m<Se;++m)r[m]=n[Ie+m]}for(;m<ce;++m)r[m]=r[m-T]}}t.l=d,t.p=te,t.b=m,t.f=s,d&&(s=1,t.m=y,t.d=p,t.n=U)}while(!s);return m!=r.length&&o?yt(r,0,m):r.subarray(0,m)},re=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},ge=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},Re=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:vt,l:0};if(a==1){var o=new j(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(w,k){return w.f-k.f}),r.push({s:-1,f:25001});var u=r[0],l=r[1],h=0,s=1,c=2;for(r[0]={s:-1,f:u.f+l.f,l:u,r:l};s!=a-1;)u=r[r[h].f<r[c].f?h++:c++],l=r[h!=s&&r[h].f<r[c].f?h++:c++],r[s++]={s:-1,f:u.f+l.f,l:u,r:l};for(var m=i[0].s,n=1;n<a;++n)i[n].s>m&&(m=i[n].s);var d=new z(m+1),p=Ge(r[s-1],d,0);if(p>t){var n=0,y=0,U=p-t,L=1<<U;for(i.sort(function(k,N){return d[N.s]-d[k.s]||k.f-N.f});n<a;++n){var x=i[n].s;if(d[x]>t)y+=L-(1<<p-d[x]),d[x]=t;else break}for(y>>=U;y>0;){var C=i[n].s;d[C]<t?y-=1<<t-d[C]++-1:++n}for(;n>=0&&y;--n){var M=i[n].s;d[M]==t&&(--d[M],++y)}p=t}return{t:new j(d),l:p}},Ge=function(e,t,r){return e.s==-1?Math.max(Ge(e.l,t,r+1),Ge(e.r,t,r+1)):t[e.s]=r},et=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new z(++t),n=0,a=e[0],i=1,o=function(l){r[n++]=l},u=1;u<=t;++u)if(e[u]==a&&u!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[u]}return{c:r.subarray(0,n),n:t}},ye=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},wt=function(e,t,r){var n=r.length,a=qe(t+2);e[a]=255&n,e[a+1]=n>>8,e[a+2]=255^e[a],e[a+3]=255^e[a+1];for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},tt=function(e,t,r,n,a,i,o,u,l,h,s){re(t,s++,r),++a[256];for(var c,m,d,p,y=Re(a,15),U=y.t,L=y.l,x=Re(i,15),C=x.t,M=x.l,w=et(U),k=w.c,N=w.n,I=et(C),g=I.c,$=I.n,A=new z(19),v=0;v<k.length;++v)++A[31&k[v]];for(var v=0;v<g.length;++v)++A[31&g[v]];for(var F=Re(A,7),B=F.t,H=F.l,O=19;O>4&&!B[Ye[O-1]];--O);var T=h+5<<3,W=ye(a,ae)+ye(i,ke)+o,G=ye(a,U)+ye(i,C)+o+14+3*O+ye(A,B)+2*A[16]+3*A[17]+7*A[18];if(l>=0&&T<=W&&T<=G)return wt(t,s,e.subarray(l,l+h));if(re(t,s,1+(G<W)),s+=2,G<W){c=ee(U,L,0),m=U,d=ee(C,M,0),p=C;var me=ee(B,H,0);re(t,s,N-257),re(t,s+5,$-1),re(t,s+10,O-4),s+=14;for(var v=0;v<O;++v)re(t,s+3*v,B[Ye[v]]);s+=3*O;for(var Q=[k,g],te=0;te<2;++te)for(var Y=Q[te],v=0;v<Y.length;++v){var J=31&Y[v];re(t,s,me[J]),s+=B[J],J>15&&(re(t,s,Y[v]>>5&127),s+=Y[v]>>12)}}else c=At,m=ae,d=Yt,p=ke;for(var v=0;v<u;++v){var E=n[v];if(E>255){var J=E>>18&31;ge(t,s,c[J+257]),s+=m[J+257],J>7&&(re(t,s,E>>23&31),s+=xe[J]);var q=31&E;ge(t,s,d[q]),s+=p[q],q>3&&(ge(t,s,E>>5&8191),s+=Ce[q])}else ge(t,s,c[E]),s+=m[E]}return ge(t,s,c[256]),s+m[256]},Qt=new Ve([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),vt=new j(0),$t=function(e,t,r,n,a,i){var o=i.z||e.length,u=new j(n+o+5*(1+Math.ceil(o/7e3))+a),l=u.subarray(n,u.length-a),h=i.l,s=7&(i.r||0);if(t){s&&(l[0]=i.r>>3);for(var c=Qt[t-1],m=c>>13,d=8191&c,p=(1<<r)-1,y=i.p||new z(32768),U=i.h||new z(p+1),L=Math.ceil(r/3),x=2*L,C=function(_e){return(e[_e]^e[_e+1]<<L^e[_e+2]<<x)&p},M=new Ve(25e3),w=new z(288),k=new z(32),N=0,I=0,g=i.i||0,$=0,A=i.w||0,v=0;g+2<o;++g){var F=C(g),B=32767&g,H=U[F];if(y[B]=H,U[F]=B,A<=g){var O=o-g;if((N>7e3||$>24576)&&(O>423||!h)){s=tt(e,l,0,M,w,k,I,$,v,g-v,s),$=N=I=0,v=g;for(var T=0;T<286;++T)w[T]=0;for(var T=0;T<30;++T)k[T]=0}var W=2,G=0,me=d,Q=B-H&32767;if(O>2&&F==C(g-Q))for(var te=Math.min(m,O)-1,Y=Math.min(32767,g),J=Math.min(258,O);Q<=Y&&--me&&B!=H;){if(e[g+W]==e[g+W-Q]){for(var E=0;E<J&&e[g+E]==e[g+E-Q];++E);if(E>W){if(W=E,G=Q,E>te)break;for(var q=Math.min(Q,E-2),ue=0,T=0;T<q;++T){var ce=g-Q+T&32767,Ie=y[ce],Se=ce-Ie&32767;Se>ue&&(ue=Se,H=ce)}}}H=y[B=H],Q+=B-H&32767}if(G){M[$++]=268435456|Je[W]<<18|Xe[G];var de=31&Je[W],pe=31&Xe[G];I+=xe[de]+Ce[pe],++w[257+de],++k[pe],A=g+W,++N}else M[$++]=e[g],++w[e[g]]}}for(g=Math.max(g,A);g<o;++g)M[$++]=e[g],++w[e[g]];s=tt(e,l,h,M,w,k,I,$,v,g-v,s),h||(i.r=7&s|l[s/8|0]<<3,s-=7,i.h=U,i.p=y,i.i=g,i.w=A)}else{for(var g=i.w||0;g<o+h;g+=65535){var fe=g+65535;fe>=o&&(l[s/8|0]=h,fe=o),s=wt(l,s+1,e.subarray(g,fe))}i.i=o}return yt(u,0,n+qe(s)+a)},Vt=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new j(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return $t(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,r,n,a)};function bt(e,t){return Vt(e,t||{},0,0)}function kt(e,t){return Gt(e,{i:2},t&&t.out,t&&t.dictionary)}var qt=typeof TextDecoder<"u"&&new TextDecoder,Zt=0;try{qt.decode(vt,{stream:!0}),Zt=1}catch{}var Kt=1024,Xt=1.5,Fe=e=>2**e-1,je=e=>-(2**(e-1)),Pe=e=>2**(e-1)-1,Z={Uint8:0,Uint16:0,Uint32:0,Uint64:0,BigUint64:0,Int8:je(8),Int16:je(16),Int32:je(32),Int64:Number.MIN_SAFE_INTEGER,BigInt64:-(BigInt(2)**BigInt(63))},K={Uint8:Fe(8),Uint16:Fe(16),Uint32:Fe(32),Uint64:Number.MAX_SAFE_INTEGER,BigUint64:BigInt(2)**BigInt(64)-BigInt(1),Int8:Pe(8),Int16:Pe(16),Int32:Pe(32),Int64:Number.MAX_SAFE_INTEGER,BigInt64:BigInt(2)**BigInt(63)-BigInt(1)};function X(e,t,r,n){b(e>=t,e,"outside lower bound for",n),b(e<=r,e,"outside upper bound for",n)}var It=class{getOffset(){return this.offset}slice(e=0,t=this.offset){return this.bytes.slice(e,t)}subarray(e=0,t=this.offset){return this.bytes.subarray(e,t)}ensureLength(e){let t=this.bytes.length;if(this.offset+e<=t)return;let r=new Uint8Array(Math.ceil(t*Xt)+e);r.set(this.bytes),this.bytes=r,this.view=He(r)}writeUint8(e){X(e,Z.Uint8,K.Uint8,"Uint8");let t=_.Uint8;this.ensureLength(t),this.view.setUint8(this.offset,e),this.offset+=t}writeUint16(e){X(e,Z.Uint16,K.Uint16,"Uint16");let t=_.Uint16;this.ensureLength(t),this.view.setUint16(this.offset,e),this.offset+=t}writeUint32(e){X(e,Z.Uint32,K.Uint32,"Uint32");let t=_.Uint32;this.ensureLength(t),this.view.setUint32(this.offset,e),this.offset+=t}writeUint64(e){X(e,Z.Uint64,K.Uint64,"Uint64");let t=BigInt(e);this.writeBigUint64(t)}writeBigUint64(e){X(e,Z.BigUint64,K.BigUint64,"BigUint64");let t=_.BigUint64;this.ensureLength(t),this.view.setBigUint64(this.offset,e),this.offset+=t}writeInt8(e){X(e,Z.Int8,K.Int8,"Int8");let t=_.Int8;this.ensureLength(t),this.view.setInt8(this.offset,e),this.offset+=t}writeInt16(e){X(e,Z.Int16,K.Int16,"Int16");let t=_.Int16;this.ensureLength(t),this.view.setInt16(this.offset,e),this.offset+=t}writeInt32(e){X(e,Z.Int32,K.Int32,"Int32");let t=_.Int32;this.ensureLength(t),this.view.setInt32(this.offset,e),this.offset+=t}writeInt64(e){X(e,Z.Int64,K.Int64,"Int64");let t=BigInt(e);this.writeBigInt64(t)}writeBigInt64(e){X(e,Z.BigInt64,K.BigInt64,"BigInt64");let t=_.BigInt64;this.ensureLength(t),this.view.setBigInt64(this.offset,e),this.offset+=t}writeFloat32(e){let t=_.Float32;this.ensureLength(t),this.view.setFloat32(this.offset,e),this.offset+=t}writeFloat64(e){let t=_.Float64;this.ensureLength(t),this.view.setFloat64(this.offset,e),this.offset+=t}writeBytes(e){let t=e.length;this.ensureLength(t),this.bytes.set(e,this.offset),this.offset+=t}encodeString(e){let t=this.encodedStrings.get(e);if(t)return t;let r=this.encoder.encode(e);return this.encodedStrings.set(e,r),r}writeString(e){let t=this.encodeString(e),r=t.length;this.writeUint32(r),this.writeBytes(t)}writeJson(e){let t=JSON.stringify(e);this.writeString(t)}constructor(){this.offset=0,this.bytes=new Uint8Array(Kt),this.view=He(this.bytes),this.encoder=new TextEncoder,this.encodedStrings=new Map}};function Oe(e){return Number.isFinite(e)}function We(e){return e===void 0}function Te(e){return e===null}var ie=class{static fromString(e){let[t,r,n]=e.split("/").map(Number);return b(Oe(t),"Invalid chunkId"),b(Oe(r),"Invalid offset"),b(Oe(n),"Invalid length"),new ie(t,r,n)}toString(){return`${this.chunkId}/${this.offset}/${this.length}`}static read(e){let t=e.readUint16(),r=e.readUint32(),n=e.readUint32();return new ie(t,r,n)}write(e){e.writeUint16(this.chunkId),e.writeUint32(this.offset),e.writeUint32(this.length)}compare(e){return this.chunkId<e.chunkId?-1:this.chunkId>e.chunkId?1:this.offset<e.offset?-1:this.offset>e.offset?1:(b(this.length===e.length),0)}constructor(e,t,r){this.chunkId=e,this.offset=t,this.length=r}};function Ae(e){if(Te(e))return 0;switch(e.type){case f.Array:return 1;case f.Boolean:return 2;case f.Color:return 3;case f.Date:return 4;case f.Enum:return 5;case f.File:return 6;case f.ResponsiveImage:return 10;case f.Link:return 7;case f.Number:return 8;case f.Object:return 9;case f.RichText:return 11;case f.String:return 12;default:be(e)}}function er(e){let t=e.readUint16(),r=[];for(let n=0;n<t;n++){let a=P.read(e);r.push(a)}return{type:f.Array,value:r}}function tr(e,t){for(let r of(e.writeUint16(t.value.length),t.value))P.write(e,r)}function rr(e,t,r){let n=e.value.length,a=t.value.length;if(n<a)return-1;if(n>a)return 1;for(let i=0;i<n;i++){let o=e.value[i],u=t.value[i],l=P.compare(o,u,r);if(l!==0)return l}return 0}function nr(e){return{type:f.Boolean,value:e.readUint8()!==0}}function ir(e,t){e.writeUint8(t.value?1:0)}function ar(e,t){return e.value<t.value?-1:e.value>t.value?1:0}function sr(e){return{type:f.Color,value:e.readString()}}function or(e,t){e.writeString(t.value)}function lr(e,t){return e.value<t.value?-1:e.value>t.value?1:0}function ur(e){let t=e.readInt64(),r=new Date(t);return{type:f.Date,value:r.toISOString()}}function cr(e,t){let r=new Date(t.value),n=r.getTime();e.writeInt64(n)}function fr(e,t){let r=new Date(e.value),n=new Date(t.value);return r<n?-1:r>n?1:0}function hr(e){return{type:f.Enum,value:e.readString()}}function mr(e,t){e.writeString(t.value)}function dr(e,t){return e.value<t.value?-1:e.value>t.value?1:0}function pr(e){return{type:f.File,value:e.readString()}}function gr(e,t){e.writeString(t.value)}function yr(e,t){return e.value<t.value?-1:e.value>t.value?1:0}function wr(e){return{type:f.Link,value:e.readJson()}}function vr(e,t){e.writeJson(t.value)}function br(e,t){let r=JSON.stringify(e.value),n=JSON.stringify(t.value);return r<n?-1:r>n?1:0}function kr(e){return{type:f.Number,value:e.readFloat64()}}function Ir(e,t){e.writeFloat64(t.value)}function Sr(e,t){return e.value<t.value?-1:e.value>t.value?1:0}function Ur(e){let t=e.readUint16(),r={};for(let n=0;n<t;n++){let a=e.readString();r[a]=P.read(e)}return{type:f.Object,value:r}}function Tr(e,t){let r=Object.entries(t.value);for(let[n,a]of(e.writeUint16(r.length),r))e.writeString(n),P.write(e,a)}function Lr(e,t,r){let n=Object.keys(e.value).sort(),a=Object.keys(t.value).sort();if(n.length<a.length)return-1;if(n.length>a.length)return 1;for(let i=0;i<n.length;i++){let o=n[i],u=a[i];if(o<u)return-1;if(o>u)return 1;let l=e.value[o]??null,h=t.value[u]??null,s=P.compare(l,h,r);if(s!==0)return s}return 0}function Nr(e){return{type:f.ResponsiveImage,value:e.readJson()}}function Er(e,t){e.writeJson(t.value)}function xr(e,t){let r=JSON.stringify(e.value),n=JSON.stringify(t.value);return r<n?-1:r>n?1:0}function Cr(e){return{type:f.RichText,value:e.readUint32()}}function Mr(e,t){e.writeUint32(t.value)}function _r(e,t){let r=e.value,n=t.value;return r<n?-1:r>n?1:0}function Br(e){return{type:f.String,value:e.readString()}}function Dr(e,t){e.writeString(t.value)}function Rr(e,t,r){let n=e.value,a=t.value;return r.type===0&&(n=e.value.toLowerCase(),a=t.value.toLowerCase()),n<a?-1:n>a?1:0}(e=>{e.read=function(t){let r=t.readUint8();switch(r){case 0:return null;case 1:return er(t);case 2:return nr(t);case 3:return sr(t);case 4:return ur(t);case 5:return hr(t);case 6:return pr(t);case 7:return wr(t);case 8:return kr(t);case 9:return Ur(t);case 10:return Nr(t);case 11:return Cr(t);case 12:return Br(t);default:be(r)}},e.write=function(t,r){let n=Ae(r);if(t.writeUint8(n),!Te(r))switch(r.type){case f.Array:return tr(t,r);case f.Boolean:return ir(t,r);case f.Color:return or(t,r);case f.Date:return cr(t,r);case f.Enum:return mr(t,r);case f.File:return gr(t,r);case f.Link:return vr(t,r);case f.Number:return Ir(t,r);case f.Object:return Tr(t,r);case f.ResponsiveImage:return Er(t,r);case f.RichText:return Mr(t,r);case f.String:return Dr(t,r);default:be(r)}},e.compare=function(t,r,n){let a=Ae(t),i=Ae(r);if(a<i)return-1;if(a>i)return 1;if(Te(t)||Te(r))return 0;switch(t.type){case f.Array:return b(r.type===f.Array),rr(t,r,n);case f.Boolean:return b(r.type===f.Boolean),ar(t,r);case f.Color:return b(r.type===f.Color),lr(t,r);case f.Date:return b(r.type===f.Date),fr(t,r);case f.Enum:return b(r.type===f.Enum),dr(t,r);case f.File:return b(r.type===f.File),yr(t,r);case f.Link:return b(r.type===f.Link),br(t,r);case f.Number:return b(r.type===f.Number),Sr(t,r);case f.Object:return b(r.type===f.Object),Lr(t,r,n);case f.ResponsiveImage:return b(r.type===f.ResponsiveImage),xr(t,r);case f.RichText:return b(r.type===f.RichText),_r(t,r);case f.String:return b(r.type===f.String),Rr(t,r,n);default:be(t)}}})(P||(P={}));var St=class{sortEntries(){this.entries.sort((e,t)=>{for(let r=0;r<this.fieldNames.length;r++){let n=e.values[r],a=t.values[r],i=P.compare(n,a,this.options.collation);if(i!==0)return i}return e.pointer.compare(t.pointer)})}static deserialize(e,t){t||(e=kt(e));let r=new Le(e),n=r.readJson(),a=r.readUint8(),i=[];for(let l=0;l<a;l++){let h=r.readString();i.push(h)}let o=new St(i,{collation:n,cmsBackendCompression:t}),u=r.readUint32();for(let l=0;l<u;l++){let h=[];for(let c=0;c<a;c++){let m=P.read(r);h.push(m)}let s=ie.read(r);o.entries.push({values:h,pointer:s})}return o}serialize(){let e=new It;for(let r of(e.writeJson(this.options.collation),e.writeUint8(this.fieldNames.length),this.fieldNames))e.writeString(r);for(let r of(this.sortEntries(),e.writeUint32(this.entries.length),this.entries)){let{values:n,pointer:a}=r;for(let i of n)P.write(e,i);a.write(e)}let t=e.subarray();return this.options.cmsBackendCompression?t:bt(t)}addItem(e,t){let r=this.fieldNames.map(n=>e.getField(n)??null);this.entries.push({values:r,pointer:t})}constructor(e,t){this.fieldNames=e,this.options=t,this.entries=[]}},rt=3,Fr=250,jr=[408,429,500,502,503,504],Ne=async(e,t)=>{let r=0;for(;;){try{let n=await fetch(e,t);if(!jr.includes(n.status)||++r>rt)return n}catch(n){if(t?.signal?.aborted||++r>rt)throw n}await Pr(r)}};async function Pr(e){let t=Math.floor(Fr*(Math.random()+1)*2**(e-1));await new Promise(r=>{setTimeout(r,t)})}function Or(e){let t=3&e.length,r=e.length-t,n=0,a=0;for(;a<r;){let o=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24;++a,n^=o=(65535&(o=(o=(65535&o)*3432918353+(((o>>>16)*3432918353&65535)<<16)&4294967295)<<15|o>>>17))*461845907+(((o>>>16)*461845907&65535)<<16)&4294967295,n=n<<13|n>>>19;let u=(65535&n)*5+(((n>>>16)*5&65535)<<16)&4294967295;n=(65535&u)+27492+(((u>>>16)+58964&65535)<<16)}let i=0;return t>=3&&(i^=(255&e.charCodeAt(a+2))<<16),t>=2&&(i^=(255&e.charCodeAt(a+1))<<8),t>=1&&(i^=255&e.charCodeAt(a),n^=i=(65535&(i=(i=(65535&i)*3432918353+(((i>>>16)*3432918353&65535)<<16)&4294967295)<<15|i>>>17))*461845907+(((i>>>16)*461845907&65535)<<16)&4294967295),n^=e.length,n^=n>>>16,n=(65535&n)*2246822507+(((n>>>16)*2246822507&65535)<<16)&4294967295,n^=n>>>13,n=(65535&n)*3266489909+(((n>>>16)*3266489909&65535)<<16)&4294967295,(n^=n>>>16)>>>0}var Wr=ht(Pt()),we=`\r
`,Ue="--";async function Ar(e,t){let r=new URL(e),n=Gr(t);r.searchParams.set("rangeHash",Or(n).toString(16));let a=await Ne(r,{headers:{Range:n}});if(!a.ok)throw Error(`Request failed: ${a.status} ${a.statusText}`);let i=await a.arrayBuffer(),o=new Uint8Array(i);if(a.status===200)return t.map(u=>{if(u.to>o.length)throw Error("Missing data");return o.slice(u.from,u.to)});if(a.status===206){let u=a.headers.get("Content-Type");if(!u)throw Error("Missing Content-Type header");let l=new Jr,h=new Wr.default(u);if(h.type==="multipart"&&h.subtype==="byteranges"){let s=h.parameters.get("boundary");if(!s)throw Error("Missing boundary parameter");let c=Yr(o,s);for(let{headers:m,body:d}of c){let p=m.get("Content-Range");if(!p)throw Error("Missing Content-Range header");let y=nt(p);if(y.unit!=="bytes")throw Error("Unsupported unit");l.write(y.start,d)}}else{let s=a.headers.get("Content-Range");if(!s)throw Error("Missing Content-Range header");let c=nt(s);if(c.unit!=="bytes")throw Error("Unsupported unit");l.write(c.start,o)}return t.map(s=>l.read(s.from,s.to-s.from))}throw Error(`Unsupported response: ${a.status} ${a.statusText}`)}var ve=new TextEncoder,Hr=new TextDecoder;function Yr(e,t){let r=ve.encode(Ue+t),n=Qe(e,r);if(We(n))throw Error("Missing parts start");let a=n+r.length,i=ve.encode(we+Ue+t+Ue),o=zr(e,i);if(We(o))throw Error("Missing parts end");let u=ve.encode(we+Ue+t),l=e.subarray(a,o);return it(l,u).map(s=>{let c=ve.encode(we+we),m=Qe(s,c);if(We(m))throw Error("Missing headers end");let d=ve.encode(we),p=s.subarray(0,m),y=it(p,d),U=new Headers;for(let C of y){let M=Hr.decode(C),[w,k]=M.split(": ",2);w&&k&&U.append(w,k)}let L=m+c.length,x=s.slice(L);return{headers:U,body:x}})}function nt(e){let t=RegExp("^(?<unit>\\w+) (?<start>\\d+)-(?<end>\\d+)\\/(?<size>\\d+|\\*)$","u").exec(e);if(!t||!t.groups)throw Error("Invalid Content-Range header");let{unit:r,start:n,end:a,size:i}=t.groups;return{unit:r,start:Number(n),end:Number(a),size:i!=="*"?Number(i):null}}var Jr=class{read(e,t){for(let r of this.chunks){if(e<r.start)break;if(e>r.end)continue;if(e+t>r.end)break;let n=e-r.start,a=n+t;return r.data.slice(n,a)}throw Error("Missing data")}write(e,t){let r=e,n=r+t.length,a=0,i=this.chunks.length;for(;a<i;a++){let l=this.chunks[a];if(b(l,"Missing chunk"),!(r>l.end)){if(r>l.start){let h=r-l.start,s=l.data.subarray(0,h);t=at(s,t),r=l.start}break}}for(;i>a;i--){let l=this.chunks[i-1];if(b(l,"Missing chunk"),!(n<l.start)){if(n<l.end){let h=n-l.start,s=l.data.subarray(h);t=at(t,s),n=l.end}break}}let o={start:r,end:n,data:t},u=i-a;this.chunks.splice(a,u,o)}constructor(){this.chunks=[]}};function it(e,t){let r=[];for(;e.length>0;){let n=Qe(e,t)??e.length,a=e.subarray(0,n);r.push(a),e=e.subarray(n+t.length)}return r}function Qe(e,t){for(let r=0;r<e.length-t.length;r++){let n=e.subarray(r);if(Ut(n,t))return r}}function zr(e,t){for(let r=e.length-t.length;r>=0;r--){let n=e.subarray(r);if(Ut(n,t))return r}}function Ut(e,t){for(let r=0;r<t.length;r++)if(e[r]!==t[r])return!1;return!0}function at(e,t){let r=e.length+t.length,n=new Uint8Array(r);return n.set(e,0),n.set(t,e.length),n}function Gr(e){b(e.length>0,"Must have at least one range");let t=[...e].sort((a,i)=>a.from-i.from),r=[];for(let a of t){let i=r.length-1,o=r[i];o&&a.from<=o.to?r[i]={from:o.from,to:Math.max(o.to,a.to)}:r.push(a)}return`bytes=${r.map(a=>`${a.from}-${a.to-1}`).join(",")}`}async function Tt(e,t,r){if(!r)return Ar(e,t);let n=$r(t),a=[],i=0;for(let d of n)a.push(`${d.from}-${d.to-1}`),i+=d.to-d.from;let o=new URL(e),u=a.join(",");o.searchParams.set("range",u);let l=await Ne(o);if(l.status!==200)throw Error(`Request failed: ${l.status} ${l.statusText}`);let h=await l.arrayBuffer(),s=new Uint8Array(h);if(s.length!==i)throw Error("Request failed: Unexpected response length");let c=new Qr,m=0;for(let d of n){let p=d.to-d.from,y=m+p,U=s.subarray(m,y);c.write(d.from,U),m=y}return t.map(d=>c.read(d.from,d.to-d.from))}var Qr=class{read(e,t){for(let r of this.chunks){if(e<r.start)break;if(e>r.end)continue;if(e+t>r.end)break;let n=e-r.start,a=n+t;return r.data.slice(n,a)}throw Error("Missing data")}write(e,t){let r=e,n=r+t.length,a=0,i=this.chunks.length;for(;a<i;a++){let l=this.chunks[a];if(b(l,"Missing chunk"),!(r>l.end)){if(r>l.start){let h=r-l.start,s=l.data.subarray(0,h);t=st(s,t),r=l.start}break}}for(;i>a;i--){let l=this.chunks[i-1];if(b(l,"Missing chunk"),!(n<l.start)){if(n<l.end){let h=n-l.start,s=l.data.subarray(h);t=st(t,s),n=l.end}break}}let o={start:r,end:n,data:t},u=i-a;this.chunks.splice(a,u,o)}constructor(){this.chunks=[]}};function st(e,t){let r=e.length+t.length,n=new Uint8Array(r);return n.set(e,0),n.set(t,e.length),n}function $r(e){b(e.length>0,"Must have at least one range");let t=[...e].sort((n,a)=>n.from-a.from),r=[];for(let n of t){let a=r.length-1,i=r[a];i&&n.from<=i.to?r[a]={from:i.from,to:Math.max(i.to,n.to)}:r.push(n)}return r}var D=class{async loadModel(){let[e]=await Tt(this.options.url,[this.options.range],this.options.cmsBackendCompression);return b(e,"Failed to load model"),St.deserialize(e,this.options.cmsBackendCompression)}async getModel(){return this.modelPromise??=this.loadModel(),this.model??=await this.modelPromise,this.model}async lookupItems(e){b(e.length===this.fields.length,"Invalid query length");let t=await this.getModel(),r=e.reduce((a,i,o)=>a.flatMap(u=>{switch(i.type){case"All":return[u];case"Equals":return this.queryEquals(u,i,o);case"NotEquals":return this.queryNotEquals(u,i,o);case"LessThan":return this.queryLessThan(u,i,o);case"GreaterThan":return this.queryGreaterThan(u,i,o);case"Contains":return this.queryContains(u,i,o);case"StartsWith":return this.queryStartsWith(u,i,o);case"EndsWith":return this.queryEndsWith(u,i,o);default:be(i)}}),[t.entries]),n=[];for(let a of r)for(let i of a){let o={};for(let u=0;u<this.options.fieldNames.length;u++){let l=this.options.fieldNames[u],h=i.values[u];o[l]=h}n.push({pointer:i.pointer.toString(),data:o})}return n}queryEquals(e,t,r){let n=this.getLeftMost(e,r,t.value),a=this.getRightMost(e,r,t.value),i=e.slice(n,a+1);return i.length>0?[i]:[]}queryNotEquals(e,t,r){let n=this.getLeftMost(e,r,t.value),a=this.getRightMost(e,r,t.value),i=[],o=e.slice(0,n);o.length>0&&i.push(o);let u=e.slice(a+1);return u.length>0&&i.push(u),i}queryLessThan(e,t,r){let n=this.getRightMost(e,r,null);if(e=e.slice(n+1),t.inclusive){let o=this.getRightMost(e,r,t.value),u=e.slice(0,o+1);return u.length>0?[u]:[]}let a=this.getLeftMost(e,r,t.value),i=e.slice(0,a);return i.length>0?[i]:[]}queryGreaterThan(e,t,r){let n=this.getRightMost(e,r,null);if(e=e.slice(n+1),t.inclusive){let o=this.getLeftMost(e,r,t.value),u=e.slice(o);return u.length>0?[u]:[]}let a=this.getRightMost(e,r,t.value),i=e.slice(a+1);return i.length>0?[i]:[]}queryContains(e,t,r){return this.findItems(e,r,n=>{if(n?.type!==f.String||t.value?.type!==f.String)return!1;let a=n.value,i=t.value.value;return this.collation.type===0&&(a=a.toLowerCase(),i=i.toLowerCase()),a.includes(i)})}queryStartsWith(e,t,r){return this.findItems(e,r,n=>{if(n?.type!==f.String||t.value?.type!==f.String)return!1;let a=n.value,i=t.value.value;return this.collation.type===0&&(a=a.toLowerCase(),i=i.toLowerCase()),a.startsWith(i)})}queryEndsWith(e,t,r){return this.findItems(e,r,n=>{if(n?.type!==f.String||t.value?.type!==f.String)return!1;let a=n.value,i=t.value.value;return this.collation.type===0&&(a=a.toLowerCase(),i=i.toLowerCase()),a.endsWith(i)})}getLeftMost(e,t,r){let n=0,a=e.length;for(;n<a;){let i=n+a>>1,o=e[i],u=o.values[t];0>P.compare(u,r,this.collation)?n=i+1:a=i}return n}getRightMost(e,t,r){let n=0,a=e.length;for(;n<a;){let i=n+a>>1,o=e[i],u=o.values[t];P.compare(u,r,this.collation)>0?a=i:n=i+1}return a-1}findItems(e,t,r){let n=[],a=0;for(let i=0;i<e.length;i++){let o=e[i],u=o.values[t];if(!r(u)){if(a<i){let h=e.slice(a,i);n.push(h)}a=i+1}}if(a<e.length){let i=e.slice(a);n.push(i)}return n}constructor(e){this.options=e,this.supportedLookupTypes=["All","Equals","NotEquals","LessThan","GreaterThan","Contains","StartsWith","EndsWith"],this.collation=this.options.collation;let t={},r=[];for(let n of this.options.fieldNames){let a=this.options.collectionSchema[n];b(a,"Missing definition for field",n),t[n]=a,r.push({type:"Identifier",name:n})}this.schema=t,this.fields=r}},$e=class{static read(e,t){let r=new $e;if(t){let a=e.readUint32(),i=e.readBytes(a),o=kt(i,{dictionary:t});e=new Le(o)}let n=e.readUint16();for(let a=0;a<n;a++){let i=e.readString(),o=P.read(e);r.setField(i,o)}return r}writeUncompressed(e){for(let[t,r]of(e.writeUint16(this.fields.size),this.fields))e.writeString(t),P.write(e,r)}write(e,t){if(t){let r=new It;this.writeUncompressed(r);let n=bt(r.subarray(),{dictionary:t});e.writeUint32(n.length),e.writeBytes(n)}else this.writeUncompressed(e)}getData(){let e={};for(let[t,r]of this.fields)e[t]=r;return e}setField(e,t){this.fields.set(e,t)}getField(e){return this.fields.get(e)}constructor(){this.fields=new Map}},Vr=class{scanItems(){return this.itemsPromise??=Promise.all([Ne(this.url),this.getCompressionDictionary()]).then(async([e,t])=>{if(!e.ok)throw Error(`Request failed: ${e.status} ${e.statusText}`);let r=await e.arrayBuffer(),n=new Uint8Array(r),a=new Le(n),i=[],o=a.readUint32();for(let u=0;u<o;u++){let l=a.getOffset(),h=$e.read(a,t),s=a.getOffset()-l,c=new ie(this.id,l,s),m=c.toString(),d={pointer:m,data:h.getData()};this.itemLoader.prime(m,d),i.push(d)}return i}),this.itemsPromise}resolveItem(e){return this.itemLoader.load(e)}getCompressionDictionary(){if(!this.compressionDictionaryUrl)return null;let e=this.compressionDictionaryCache.get(this.compressionDictionaryUrl);if(e)return e;let t=Ne(this.compressionDictionaryUrl).then(async r=>{if(!r.ok)throw Error(`Compression dictionary request failed: ${r.status} ${r.statusText}`);let n=await r.arrayBuffer();return new Uint8Array(n)});return this.compressionDictionaryCache.set(this.compressionDictionaryUrl,t),t}constructor(e,t,r,n){this.id=e,this.url=t,this.compressionDictionaryUrl=r,this.compressionDictionaryCache=n,this.itemLoader=new Ot.default(async a=>{let i=a.map(l=>{let h=ie.fromString(l);return{from:h.offset,to:h.offset+h.length}}),[o,u]=await Promise.all([Tt(this.url,i,!this.compressionDictionaryUrl),this.getCompressionDictionary()]);return o.map((l,h)=>{let s=new Le(l),c=$e.read(s,u),m=a[h];return b(m,"Missing pointer"),{pointer:m,data:c.getData()}})})}},Lt=class{async scanItems(){return(await Promise.all(this.chunks.map(async t=>t.scanItems()))).flat()}async resolveItems(e){return Promise.all(e.map(t=>{let r=ie.fromString(t),n=this.chunks[r.chunkId];return b(n,"Missing chunk"),n.resolveItem(t)}))}compareItems(e,t){let r=ie.fromString(e.pointer),n=ie.fromString(t.pointer);return r.compare(n)}compareValues(e,t,r){return P.compare(e,t,r)}constructor(e){this.options=e,this.schema=this.options.schema,this.indexes=this.options.indexes,this.resolveRichText=this.options.resolveRichText;let t=new Map;this.chunks=this.options.chunks.map((r,n)=>new Vr(n,r,this.options.compressionDictionary,t))}};var oe=(e,t)=>async()=>(await e())[t],le=()=>import("./kNS64m6YL-2-DKWS57TJ.mjs"),qr=[oe(le,"richText"),oe(le,"richText1"),oe(le,"richText2"),oe(le,"richText3"),oe(le,"richText4"),oe(le,"richText5"),oe(le,"richText6")];async function Nt(e){let t=qr[e];if(t)return await t()}var R={cFQIighGQ:{isNullable:!0,type:f.ResponsiveImage},CZVNSEVxq:{isNullable:!0,type:f.ResponsiveImage},dxUgiN6fP:{isNullable:!0,type:f.String},EcurdIYlI:{isNullable:!0,type:f.String},GbnZm62ME:{isNullable:!0,type:f.ResponsiveImage},gYgd64Q9n:{isNullable:!0,type:f.Boolean},Hjy2eKJLV:{isNullable:!0,type:f.String},id:{isNullable:!1,type:f.String},KBjkS6Vcn:{isNullable:!0,type:f.Date},LGnOksssn:{isNullable:!0,type:f.String},nextItemId:{isNullable:!0,type:f.String},previousItemId:{isNullable:!0,type:f.String},pTj_fcw5Q:{isNullable:!0,type:f.String},Utjojed4k:{isNullable:!0,type:f.String},X0TMoAwuJ:{isNullable:!0,type:f.Boolean},xXaEH6drN:{isNullable:!0,type:f.RichText}},Et=new Ke,Me={collectionByLocaleId:{default:new Lt({chunks:[new URL("./kNS64m6YL-chunk-default-0.framercms","https://framerusercontent.com/modules/W97BFIam0EGww4CDn0gw/JZm3UOQTfzIU3Sn2KWgk/kNS64m6YL.js").href.replace("/modules/","/cms/")],compressionDictionary:null,indexes:[new D({cmsBackendCompression:!0,collation:{type:1},collectionSchema:R,fieldNames:["id","xXaEH6drN"],range:{from:0,to:241},url:new URL("./kNS64m6YL-indexes-default-0.framercms","https://framerusercontent.com/modules/W97BFIam0EGww4CDn0gw/JZm3UOQTfzIU3Sn2KWgk/kNS64m6YL.js").href.replace("/modules/","/cms/")}),new D({cmsBackendCompression:!0,collation:{type:1},collectionSchema:R,fieldNames:["previousItemId","xXaEH6drN"],range:{from:241,to:481},url:new URL("./kNS64m6YL-indexes-default-0.framercms","https://framerusercontent.com/modules/W97BFIam0EGww4CDn0gw/JZm3UOQTfzIU3Sn2KWgk/kNS64m6YL.js").href.replace("/modules/","/cms/")}),new D({cmsBackendCompression:!0,collation:{type:1},collectionSchema:R,fieldNames:["nextItemId","xXaEH6drN"],range:{from:481,to:717},url:new URL("./kNS64m6YL-indexes-default-0.framercms","https://framerusercontent.com/modules/W97BFIam0EGww4CDn0gw/JZm3UOQTfzIU3Sn2KWgk/kNS64m6YL.js").href.replace("/modules/","/cms/")}),new D({cmsBackendCompression:!0,collation:{type:1},collectionSchema:R,fieldNames:["id","LGnOksssn"],range:{from:717,to:1257},url:new URL("./kNS64m6YL-indexes-default-0.framercms","https://framerusercontent.com/modules/W97BFIam0EGww4CDn0gw/JZm3UOQTfzIU3Sn2KWgk/kNS64m6YL.js").href.replace("/modules/","/cms/")}),new D({cmsBackendCompression:!0,collation:{type:1},collectionSchema:R,fieldNames:["LGnOksssn","id"],range:{from:1257,to:1797},url:new URL("./kNS64m6YL-indexes-default-0.framercms","https://framerusercontent.com/modules/W97BFIam0EGww4CDn0gw/JZm3UOQTfzIU3Sn2KWgk/kNS64m6YL.js").href.replace("/modules/","/cms/")}),new D({cmsBackendCompression:!0,collation:{type:0},collectionSchema:R,fieldNames:["LGnOksssn","xXaEH6drN"],range:{from:1797,to:2281},url:new URL("./kNS64m6YL-indexes-default-0.framercms","https://framerusercontent.com/modules/W97BFIam0EGww4CDn0gw/JZm3UOQTfzIU3Sn2KWgk/kNS64m6YL.js").href.replace("/modules/","/cms/")}),new D({cmsBackendCompression:!0,collation:{type:0},collectionSchema:R,fieldNames:["gYgd64Q9n","xXaEH6drN"],range:{from:2281,to:2445},url:new URL("./kNS64m6YL-indexes-default-0.framercms","https://framerusercontent.com/modules/W97BFIam0EGww4CDn0gw/JZm3UOQTfzIU3Sn2KWgk/kNS64m6YL.js").href.replace("/modules/","/cms/")}),new D({cmsBackendCompression:!0,collation:{type:0},collectionSchema:R,fieldNames:["X0TMoAwuJ","xXaEH6drN"],range:{from:2445,to:2609},url:new URL("./kNS64m6YL-indexes-default-0.framercms","https://framerusercontent.com/modules/W97BFIam0EGww4CDn0gw/JZm3UOQTfzIU3Sn2KWgk/kNS64m6YL.js").href.replace("/modules/","/cms/")}),new D({cmsBackendCompression:!0,collation:{type:0},collectionSchema:R,fieldNames:["GbnZm62ME","xXaEH6drN"],range:{from:2609,to:5988},url:new URL("./kNS64m6YL-indexes-default-0.framercms","https://framerusercontent.com/modules/W97BFIam0EGww4CDn0gw/JZm3UOQTfzIU3Sn2KWgk/kNS64m6YL.js").href.replace("/modules/","/cms/")}),new D({cmsBackendCompression:!0,collation:{type:0},collectionSchema:R,fieldNames:["KBjkS6Vcn","xXaEH6drN"],range:{from:5988,to:6201},url:new URL("./kNS64m6YL-indexes-default-0.framercms","https://framerusercontent.com/modules/W97BFIam0EGww4CDn0gw/JZm3UOQTfzIU3Sn2KWgk/kNS64m6YL.js").href.replace("/modules/","/cms/")}),new D({cmsBackendCompression:!0,collation:{type:0},collectionSchema:R,fieldNames:["Hjy2eKJLV","xXaEH6drN"],range:{from:6201,to:6493},url:new URL("./kNS64m6YL-indexes-default-0.framercms","https://framerusercontent.com/modules/W97BFIam0EGww4CDn0gw/JZm3UOQTfzIU3Sn2KWgk/kNS64m6YL.js").href.replace("/modules/","/cms/")}),new D({cmsBackendCompression:!0,collation:{type:0},collectionSchema:R,fieldNames:["pTj_fcw5Q","xXaEH6drN"],range:{from:6493,to:6832},url:new URL("./kNS64m6YL-indexes-default-0.framercms","https://framerusercontent.com/modules/W97BFIam0EGww4CDn0gw/JZm3UOQTfzIU3Sn2KWgk/kNS64m6YL.js").href.replace("/modules/","/cms/")}),new D({cmsBackendCompression:!0,collation:{type:0},collectionSchema:R,fieldNames:["dxUgiN6fP","xXaEH6drN"],range:{from:6832,to:7207},url:new URL("./kNS64m6YL-indexes-default-0.framercms","https://framerusercontent.com/modules/W97BFIam0EGww4CDn0gw/JZm3UOQTfzIU3Sn2KWgk/kNS64m6YL.js").href.replace("/modules/","/cms/")}),new D({cmsBackendCompression:!0,collation:{type:0},collectionSchema:R,fieldNames:["EcurdIYlI","xXaEH6drN"],range:{from:7207,to:7833},url:new URL("./kNS64m6YL-indexes-default-0.framercms","https://framerusercontent.com/modules/W97BFIam0EGww4CDn0gw/JZm3UOQTfzIU3Sn2KWgk/kNS64m6YL.js").href.replace("/modules/","/cms/")}),new D({cmsBackendCompression:!0,collation:{type:0},collectionSchema:R,fieldNames:["Utjojed4k","xXaEH6drN"],range:{from:7833,to:10217},url:new URL("./kNS64m6YL-indexes-default-0.framercms","https://framerusercontent.com/modules/W97BFIam0EGww4CDn0gw/JZm3UOQTfzIU3Sn2KWgk/kNS64m6YL.js").href.replace("/modules/","/cms/")}),new D({cmsBackendCompression:!0,collation:{type:0},collectionSchema:R,fieldNames:["CZVNSEVxq","xXaEH6drN"],range:{from:10217,to:13508},url:new URL("./kNS64m6YL-indexes-default-0.framercms","https://framerusercontent.com/modules/W97BFIam0EGww4CDn0gw/JZm3UOQTfzIU3Sn2KWgk/kNS64m6YL.js").href.replace("/modules/","/cms/")}),new D({cmsBackendCompression:!0,collation:{type:0},collectionSchema:R,fieldNames:["cFQIighGQ","xXaEH6drN"],range:{from:13508,to:16722},url:new URL("./kNS64m6YL-indexes-default-0.framercms","https://framerusercontent.com/modules/W97BFIam0EGww4CDn0gw/JZm3UOQTfzIU3Sn2KWgk/kNS64m6YL.js").href.replace("/modules/","/cms/")}),new D({cmsBackendCompression:!0,collation:{type:0},collectionSchema:R,fieldNames:["xXaEH6drN","xXaEH6drN"],range:{from:16722,to:16907},url:new URL("./kNS64m6YL-indexes-default-0.framercms","https://framerusercontent.com/modules/W97BFIam0EGww4CDn0gw/JZm3UOQTfzIU3Sn2KWgk/kNS64m6YL.js").href.replace("/modules/","/cms/")})],resolveRichText:Nt,schema:R})},displayName:"journal"},vn=Me;Ze(Me,{LGnOksssn:{title:"Slug",type:f.String},gYgd64Q9n:{defaultValue:!0,title:"Journal Main article",type:f.Boolean},X0TMoAwuJ:{defaultValue:!0,title:"Home Page Teaser",type:f.Boolean},GbnZm62ME:{title:"Main Image",type:f.ResponsiveImage},KBjkS6Vcn:{title:"Date",type:f.Date},Hjy2eKJLV:{defaultValue:"",title:"Author",type:f.String},pTj_fcw5Q:{defaultValue:"",title:"Job Title",type:f.String},dxUgiN6fP:{defaultValue:"",title:"Title",type:f.String},EcurdIYlI:{defaultValue:"",title:"Subtitle",type:f.String},Utjojed4k:{defaultValue:"",displayTextArea:!0,title:"Overview",type:f.String},CZVNSEVxq:{title:"Image 1",type:f.ResponsiveImage},cFQIighGQ:{title:"Image 2",type:f.ResponsiveImage},xXaEH6drN:{defaultValue:"",title:"Article",type:f.RichText},previousItemId:{dataIdentifier:"local-module:collection/kNS64m6YL:default",title:"Previous",type:f.CollectionReference},nextItemId:{dataIdentifier:"local-module:collection/kNS64m6YL:default",title:"Next",type:f.CollectionReference}});var bn={},kn={async getSlugByRecordId(e,t){let[r]=await Et.query({from:{data:Me,type:"Collection"},limit:{type:"LiteralValue",value:1},select:[{name:"LGnOksssn",type:"Identifier"}],where:{left:{name:"id",type:"Identifier"},operator:"==",right:{type:"LiteralValue",value:e},type:"BinaryOperation"}},t);return r?.LGnOksssn},async getRecordIdBySlug(e,t){let[r]=await Et.query({from:{data:Me,type:"Collection"},limit:{type:"LiteralValue",value:1},select:[{name:"id",type:"Identifier"}],where:{left:{name:"LGnOksssn",type:"Identifier"},operator:"==",right:{type:"LiteralValue",value:e},type:"BinaryOperation"}},t);return r?.id}},In={exports:{utils:{type:"variable",annotations:{framerContractVersion:"1"}},enumToDisplayNameFunctions:{type:"variable",annotations:{framerContractVersion:"1"}},default:{type:"data",name:"data",annotations:{framerCollectionId:"kNS64m6YL",framerRecordIdKey:"id",framerEnumToDisplayNameUtils:"2",framerContractVersion:"1",framerSlug:"LGnOksssn",framerData:"",framerCollectionUtils:"1"}},__FramerMetadata__:{type:"variable"}}};export{vn as a,bn as b,kn as c,In as d};
//# sourceMappingURL=chunk-ZPGIHODC.mjs.map
